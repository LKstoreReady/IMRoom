
import UIKit
import TTLBGenerals
import NKWorking
import AgoraRtcKit

nonisolated(unsafe) var kFirebaseTransactions : HeDispatchWorkItem!

var pGetAuthority = false

@MainActor func networkManagerQueue(_ uid : Int, _ type : Int, _ from : Int) {
    if HeBeginReceiveMessageFrom.iRemindersB.isHidden == false {
        if uExifTag != nil && Int(uExifTag.oBundledPath.gInsertUpdate) == uid {
            HeBeginReceiveMessageFrom.iRemindersB.restoreKeysAndBackupMock()
            return
        }
    }
    if type == 2 {
        jSharpWorkspaces = false
        HeLoadPaletted.upLoadModel()
        iSuppressAnimations.createWithoutCaching()
        kFirebaseTransactions = nil
        kFirebaseTransactions = HeDispatchWorkItem.hasUrlOverride()
        kFirebaseTransactions.sGetRect = false
        kFirebaseTransactions.rNativeModules = { pass in
            topBarVerticalPositionConstraint(uid, pass, from)
        }
        hMacPlatform!.addSubview(kFirebaseTransactions)
    } else {
        topBarVerticalPositionConstraint(uid, "", from)
    }
}
@MainActor func topBarVerticalPositionConstraint(_ uid : Int, _ pass : String, _ from : Int) {
        
    if pGetAuthority == true {
        DispatchQueue.main.asyncAfter(deadline: .now() + 5) {
            if pGetAuthority == true {
                pGetAuthority = false
            }
        }
        return
    }
    HeCallNonvirtualBooleanMethodA.iRemindersB.angleDelta()
    HeLoadPaletted.pulCounterOutputVideo()
    let cToggle = NSMutableDictionary()
    cToggle.setObject(1, forKey: eAnrInfo as NSCopying)
    cToggle.setObject(uid, forKey: nChannelNumber as NSCopying)
    cToggle.setObject(2, forKey: mIrradianceRes as NSCopying)
    if pass.count != 0 {
        cToggle.setObject(pass, forKey: vValueSetter as NSCopying)
    }
    cToggle.setObject(from, forKey: oCookieList as NSCopying)
    pGetAuthority = true
    iSuppressAnimations.resolveInstanceMethod(cToggle) { dics in
        pGetAuthority = false
        jSharpWorkspaces = false
        kFirebaseTransactions?.mapNaviListener()
        let oBundledPath = HeWgYzajk(dics)
        if oBundledPath.gMatGroups > 0 {
            let gTemplateMethod = NSDate();
            let sCommitOid =  CLongLong(gTemplateMethod.timeIntervalSince1970)
            let uFabSearchengin = Int(oBundledPath.gMatGroups) - Int(sCommitOid)
            if uFabSearchengin > 0 {
                var wSetScratch = ""
                if uFabSearchengin / 3600 != 0 {
                    wSetScratch = String(format: "%d:", uFabSearchengin / 3600)
                }
                wSetScratch = wSetScratch + String(format: "%02d:", uFabSearchengin % 3600 / 60)
                wSetScratch = wSetScratch + String(format: "%02d", uFabSearchengin % 60)
                HeLoadPaletted.setOnGenericMotionListener(roundPriceChange("merchants_avif_vaish") + wSetScratch)
            }
        }else if oBundledPath.tInvokeMethod > 0 {
            HeLoadPaletted.setOnGenericMotionListener("nvars_aaronpearce_pasvorton")
            jSharpWorkspaces = false
        }else {
            HeFontConfiguration.iRemindersB.getAxisTop {
                executeBonjourBlock()
                let kSendJavascript = HeArgumentsFeature(dics)
                conformingToType(kSendJavascript)
            }
            HeLoadPaletted.upLoadModel()
            jSharpWorkspaces = false
        }
    } _: { string in
        pGetAuthority = false
        let vTokenizeString = string.setDividerLocation() as NSDictionary
        if vTokenizeString.allKeys.count > 0 {
            let rAsyncDone = vTokenizeString.wxLaunchId(bCamFront)
            if rAsyncDone == 10 {
                HeLoadPaletted.upLoadModel()
                if pass.count == 0 {
                    networkManagerQueue(uid, 2, from)
                }else {
                    if from != 6 {
                        kFirebaseTransactions?.getLocalPointToOut()
                        kFirebaseTransactions?.sFasCrosshairs.isHidden = false
                        kFirebaseTransactions?.sFasCrosshairs.text = vTokenizeString.scannerWithString(qFocusableMode)
                    }else {
                        HeLoadPaletted.setOnGenericMotionListener("windowpos_donner_clickable")
                    }
                }
            }else {
                jSharpWorkspaces = false
                kFirebaseTransactions?.mapNaviListener()
                let cPlaneConstant = vTokenizeString.scannerWithString(qFocusableMode)
                HeLoadPaletted.setOnGenericMotionListener(cPlaneConstant)
                                
            }
        }else {
            jSharpWorkspaces = false
            kFirebaseTransactions?.mapNaviListener()
            HeLoadPaletted.setOnGenericMotionListener(string)
        }
    }
}

@MainActor func executeBonjourBlock() {
    DispatchQueue.main.async {
        let xPasteboardItems = hMacPlatform?.rootViewController
        if xPasteboardItems != nil {
            if xPasteboardItems!.isKind(of: UITabBarController.self) {
                                
                let bDiscoveryResults : UINavigationController = (xPasteboardItems as! UITabBarController).selectedViewController as! UINavigationController
                let uFabSearchengin : NSMutableArray = NSMutableArray(array: bDiscoveryResults.children)
                for i in 0..<uFabSearchengin.count {
                    let iFindCalendars = uFabSearchengin[i]
                    let dGetResponse = String(describing: type(of: iFindCalendars.self))
                    if dGetResponse == "HeSkipLocalArt" {
                        uFabSearchengin.remove(iFindCalendars)
                        break
                    }
                }
                for i in 0..<uFabSearchengin.count {
                    let iFindCalendars = uFabSearchengin[i]
                    let dGetResponse = String(describing: type(of: iFindCalendars.self))
                    if dGetResponse == "HeImagePoissonBlendFilter" {
                        uFabSearchengin.remove(iFindCalendars)
                        break
                    }
                }
                bDiscoveryResults.setViewControllers(uFabSearchengin as! [UIViewController], animated: false)
            }
        }
    }
}

@MainActor func conformingToType(_ model : HeArgumentsFeature?) {
    HeBeginReceiveMessageFrom.iRemindersB.mdiFormatLetterStartsWith()
    if model == nil {
        if (uExifTag != nil && selfs.navigationController!.children.contains(uExifTag) == false ){
            jSharpWorkspaces = false
            selfs.navigationController!.pushViewController(uExifTag , animated: true)
                        
            return
        }else if (uExifTag != nil && selfs.navigationController!.children.contains(uExifTag) == true ){
            jSharpWorkspaces = false
            selfs.navigationController!.popToViewController(uExifTag, animated: true)
            return
        }
    }

    let xPasteboardItems = hMacPlatform?.rootViewController
    if xPasteboardItems != nil {
        uExifTag?.removeFromParent()
        uExifTag?.didChangeToStateComplete()
        uExifTag = nil
        uExifTag = HeImagePoissonBlendFilter(nibName: "HeImagePoissonBlendFilter", bundle: iHasNormal)
        uExifTag.oBundledPath = model!
        let a = selfs.navigationController
        UIView.hasDartNavigationDelegate(uExifTag)

     }
     AgoraRtcEngineKit.destroy()
}
@MainActor internal var selfs: UIViewController {
     return pushControl(mMatCyclone.rootViewController!)
}
@MainActor private func pushControl(_ controllers:UIViewController) -> UIViewController{
    var Controller:UIViewController
    var VC = controllers
    if(VC.presentedViewController != nil) {
        VC = controllers.presentedViewController!
    }
    if controllers.isKind(of:UITabBarController.classForCoder()) {
        Controller = pushControl((controllers as! UITabBarController).selectedViewController!)
    }else if controllers.isKind(of:UINavigationController.classForCoder()){
        Controller = pushControl((controllers as! UINavigationController).visibleViewController!)
    }else{
        Controller = VC
    }
    return Controller
}

